


什么是堆内存(heap)和栈内存(stack)？堆内存用于存放对象的实例。栈内存用于存放基础数据类型和对象的引用。https://www.cnblogs.com/lianghe01/p/6617275.html
如何查看应用的内存？初始内存、最大可用内存、内存使用情况
内存VSS/RSS/PSS/USS的区别？https://www.jianshu.com/p/3bab26d25d2e



什么是内存泄漏？在android开发中，jvm具有自动回收的机制，会不定时不定期的去清理无用的被占用的内存，而在理论上不需要再被使用的内存，在实际中却还持有对这一块内存的引用，
        导致GC时，不会被回收释放掉，这部分内存就会随着程序的运行不断堆积，从而导致应用分配的内存不够使用导致卡顿、ANR异常等情况。
内存泄漏会导致什么问题？
内存泄漏实例？单例、集合、DialogFragment、glide
对象引用置null，把容器、数组清空可以避免内存泄漏？
DialogFragment引起的内存泄漏？https://blog.csdn.net/u012165769/article/details/106843679/



什么是内存抖动？内存抖动是因为大量的对象被创建又在短时间内马上被释放。瞬间产生大量的对象会严重占用Young Generation的内存区域，当达到阀值，剩余空间不够的时候就会触发GC。
        频繁的GC会使用CPU居高不下，UI卡顿、电池消耗很快。

什么是内存溢出？
内存泄漏和内存溢出的区别？


内存检测工具？Memory Monitor、Heap Viewer、LeakCanary、Android Profiler可以监控应用的CPU、内存、网络、电量使用情况。
如果使用Android Profiler？操作要检测的界面，然后退出界面、手动GC，然后Dump java heap、在 Heap Dump 中选择安装包名排序，找到自己的包名


[你真的懂 Java 的内存管理和引用类型吗？](https://www.jianshu.com/p/8ad00f5b06be)


## 查看内存？
- 查看应用内存使用情况
HeapSize（堆总大小）
HeapAlloc（已用大小）
HeapFree（剩余可用）
```
adb shell dumpsys meminfo com.mackwu.performance

                   Pss  Private  Private  Swapped     Heap     Heap     Heap
                 Total    Dirty    Clean    Dirty     Size    Alloc     Free
                ------   ------   ------   ------   ------   ------   ------
  Native Heap     3263     2536        0        0    26368    24938     1429
  Dalvik Heap     1231     1180        0        0     2254     1138     1116
 Dalvik Other      433      432        0        0
        Stack      120      120        0        0
       Ashmem        4        4        0        0
    Other dev        4        0        4        0
     .so mmap     1903      124      144        0
    .apk mmap      677        0       32        0
    .ttf mmap       47        0        0        0
    .dex mmap     5788        4     5784        0
    .oat mmap     2420        0       68        0
    .art mmap     1001      480        0        0
   Other mmap       13        8        0        0
      Unknown      117      116        0        0
        TOTAL    17021     5004     6032        0    28622    26076     2545
```
- 查看应用的初始内存
```
adb shell getprop | grep dalvik.vm.heapstartsize
[dalvik.vm.heapstartsize]: [8m]
```

- 查看应用最大可用内存
```
adb shell getprop | grep dalvik.vm.heapgrowthlimit
[dalvik.vm.heapgrowthlimit]: [96m]
```
不同设备给每个app分配的内存都可能不一样。如果超过单个应用最大可用内存则会出现OOM，如果设置了开启largeHeap, 则可提高到dvm最大内存才OOM。
```
    <application
        android:largeHeap="true">
```

- 查看dalvik最大可用内存
```
adb shell getprop | grep dalvik.vm.heapsize
[dalvik.vm.heapsize]: [256m]
```